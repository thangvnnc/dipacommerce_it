$(function(){if("undefined"!=typeof searchboxTraductions){var selector=$("[data-searchbox-selector]").data("searchbox-selector"),$genericElement=$(selector).first();if(0!==$genericElement){var linkSelector=$("[data-searchbox-link-selector]").data("searchbox-link-selector"),$searchboxElement=$('<div class="searchbox"><select><option></option></select></div>');$(linkSelector).each(function(){var label=$(this).text().replace("â€¢","").trim(),link=$(this).attr("href")||"",dataTo=$(this).attr("data-to")||"";$searchboxElement.find("select").append('<option data-to="'+dataTo+'" data-url="'+link+'" value="'+label+'">'+label+"</option>")}),$searchboxElement.insertAfter($genericElement);var query={};$(".searchbox select").select2({placeholder:searchboxTraductions["refsearch.search_carpart"],language:{noResults:function(){return searchboxTraductions["global.no_results"]},searching:function(params){return query=params,""}},templateResult:function(item){if(item.loading)return item.text;var term=query.term||"";return function(text,term){return""===term.trim()?text:text.toUpperCase().indexOf(term.toUpperCase())<0?text:$("<span>"+text.toLowerCase().replace(term.toLowerCase(),"<b>"+term+"</b>")+"</span>")}(item.text,term)},sorter:function(data){return data.sort(function(a,b){return a=a.text.toLowerCase(),(b=b.text.toLowerCase())<a?1:a<b?-1:0})}}).on("select2:select",function(e){var $selectedOption=$(this).find("option:selected");if($selectedOption.length){var url=$selectedOption.attr("data-url").trim();0===url.length&&(url=atob($selectedOption.attr("data-to"))),window.location=url}})}}});