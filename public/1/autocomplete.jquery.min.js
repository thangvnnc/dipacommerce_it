!function(s){var n={};function i(t){if(n[t])return n[t].exports;var e=n[t]={exports:{},id:t,loaded:!1};return s[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}i.m=s,i.c=n,i.p="",i(0)}([function(t,e,s){"use strict";t.exports=s(1)},function(t,e,s){"use strict";var n=s(2),r=s(3);n.element=r;var o=s(4);o.isArray=r.isArray,o.isFunction=r.isFunction,o.isObject=r.isPlainObject,o.bind=r.proxy,o.each=function(t,s){r.each(t,function(t,e){return s(e,t)})},o.map=r.map,o.mixin=r.extend,o.Event=r.Event;var i,a,u,c=s(5),h=s(6);i=r.fn.autocomplete,a="aaAutocomplete",u={initialize:function(n,i){return i=o.isArray(i)?i:[].slice.call(arguments,1),n=n||{},this.each(function(){var t,e=r(this),s=new h({el:e});t=new c({input:e,eventBus:s,dropdownMenuContainer:n.dropdownMenuContainer,hint:void 0===n.hint||!!n.hint,minLength:n.minLength,autoselect:n.autoselect,autoselectOnBlur:n.autoselectOnBlur,openOnFocus:n.openOnFocus,templates:n.templates,debug:n.debug,clearOnSelected:n.clearOnSelected,cssClasses:n.cssClasses,datasets:i,keyboardShortcuts:n.keyboardShortcuts,appendTo:n.appendTo,autoWidth:n.autoWidth}),e.data(a,t)})},open:function(){return this.each(function(){var t,e=r(this);(t=e.data(a))&&t.open()})},close:function(){return this.each(function(){var t,e=r(this);(t=e.data(a))&&t.close()})},val:function(s){return arguments.length?this.each(function(){var t,e=r(this);(t=e.data(a))&&t.setVal(s)}):function(t){var e,s;(e=t.data(a))&&(s=e.getVal());return s}(this.first())},destroy:function(){return this.each(function(){var t,e=r(this);(t=e.data(a))&&(t.destroy(),e.removeData(a))})}},r.fn.autocomplete=function(t){var e;return u[t]&&"initialize"!==t?(e=this.filter(function(){return!!r(this).data(a)}),u[t].apply(e,[].slice.call(arguments,1))):u.initialize.apply(this,arguments)},r.fn.autocomplete.noConflict=function(){return r.fn.autocomplete=i,this},r.fn.autocomplete.sources=c.sources,r.fn.autocomplete.escapeHighlightedString=o.escapeHighlightedString,t.exports=r.fn.autocomplete},function(t,e){"use strict";t.exports={element:null}},function(t,e){t.exports=jQuery},function(t,e,s){"use strict";var n,i=s(2);function o(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}t.exports={isArray:null,isFunction:null,isObject:null,bind:null,each:null,map:null,mixin:null,isMsie:function(t){if(void 0===t&&(t=navigator.userAgent),/(msie|trident)/i.test(t)){var e=t.match(/(msie |rv:)(\d+(.\d+)?)/i);if(e)return e[2]}return!1},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isNumber:function(t){return"number"==typeof t},toStr:function(t){return null==t?"":t+""},cloneDeep:function(t){var s=this.mixin({},t),n=this;return this.each(s,function(t,e){t&&(n.isArray(t)?s[e]=[].concat(t):n.isObject(t)&&(s[e]=n.cloneDeep(t)))}),s},error:function(t){throw new Error(t)},every:function(s,n){var i=!0;return s?(this.each(s,function(t,e){if(!(i=n.call(null,t,e,s)))return!1}),!!i):i},any:function(s,n){var i=!1;return s&&this.each(s,function(t,e){if(n.call(null,t,e,s))return!(i=!0)}),i},getUniqueId:(n=0,function(){return n++}),templatify:function(t){if(this.isFunction(t))return t;var e=i.element(t);return"SCRIPT"===e.prop("tagName")?function(){return e.text()}:function(){return String(t)}},defer:function(t){setTimeout(t,0)},noop:function(){},formatPrefix:function(t,e){return e?"":t+"-"},className:function(t,e,s){return(s?"":".")+t+e},escapeHighlightedString:function(t,e,s){e=e||"<em>";var n=document.createElement("div");n.appendChild(document.createTextNode(e)),s=s||"</em>";var i=document.createElement("div");i.appendChild(document.createTextNode(s));var r=document.createElement("div");return r.appendChild(document.createTextNode(t)),r.innerHTML.replace(RegExp(o(n.innerHTML),"g"),e).replace(RegExp(o(i.innerHTML),"g"),s)}}},function(t,e,s){"use strict";var a="aaAttrs",u=s(4),c=s(2),r=s(6),o=s(7),n=s(16),h=s(18),l=s(19);function p(t){var s,e;if((t=t||{}).input||u.error("missing input"),this.isActivated=!1,this.debug=!!t.debug,this.autoselect=!!t.autoselect,this.autoselectOnBlur=!!t.autoselectOnBlur,this.openOnFocus=!!t.openOnFocus,this.minLength=u.isNumber(t.minLength)?t.minLength:1,this.autoWidth=void 0===t.autoWidth||!!t.autoWidth,this.clearOnSelected=!!t.clearOnSelected,t.hint=!!t.hint,t.hint&&t.appendTo)throw new Error("[autocomplete.js] hint and appendTo options can't be used at the same time");this.css=t.css=u.mixin({},l,t.appendTo?l.appendTo:{}),this.cssClasses=t.cssClasses=u.mixin({},l.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix=u.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),this.listboxId=t.listboxId=[this.cssClasses.root,"listbox",u.getUniqueId()].join("-");var n=function(t){var e,s,n,i;e=c.element(t.input),s=c.element(h.wrapper.replace("%ROOT%",t.cssClasses.root)).css(t.css.wrapper),t.appendTo||"block"!==e.css("display")||"table"!==e.parent().css("display")||s.css("display","table-cell");var r=h.dropdown.replace("%PREFIX%",t.cssClasses.prefix).replace("%DROPDOWN_MENU%",t.cssClasses.dropdownMenu);n=c.element(r).css(t.css.dropdown).attr({role:"listbox",id:t.listboxId}),t.templates&&t.templates.dropdownMenu&&n.html(u.templatify(t.templates.dropdownMenu)());(i=e.clone().css(t.css.hint).css((o=e,{backgroundAttachment:o.css("background-attachment"),backgroundClip:o.css("background-clip"),backgroundColor:o.css("background-color"),backgroundImage:o.css("background-image"),backgroundOrigin:o.css("background-origin"),backgroundPosition:o.css("background-position"),backgroundRepeat:o.css("background-repeat"),backgroundSize:o.css("background-size")}))).val("").addClass(u.className(t.cssClasses.prefix,t.cssClasses.hint,!0)).removeAttr("id name placeholder required").prop("readonly",!0).attr({"aria-hidden":"true",autocomplete:"off",spellcheck:"false",tabindex:-1}),i.removeData&&i.removeData();var o;e.data(a,{"aria-autocomplete":e.attr("aria-autocomplete"),"aria-expanded":e.attr("aria-expanded"),"aria-owns":e.attr("aria-owns"),autocomplete:e.attr("autocomplete"),dir:e.attr("dir"),role:e.attr("role"),spellcheck:e.attr("spellcheck"),style:e.attr("style"),type:e.attr("type")}),e.addClass(u.className(t.cssClasses.prefix,t.cssClasses.input,!0)).attr({autocomplete:"off",spellcheck:!1,role:"combobox","aria-autocomplete":t.datasets&&t.datasets[0]&&t.datasets[0].displayKey?"both":"list","aria-expanded":"false","aria-label":t.ariaLabel,"aria-owns":t.listboxId}).css(t.hint?t.css.input:t.css.inputWithNoHint);try{e.attr("dir")||e.attr("dir","auto")}catch(t){}return(s=t.appendTo?s.appendTo(c.element(t.appendTo).eq(0)).eq(0):e.wrap(s).parent()).prepend(t.hint?i:null).append(n),{wrapper:s,input:e,hint:i,menu:n}}(t);this.$node=n.wrapper;var i=this.$input=n.input;s=n.menu,e=n.hint,t.dropdownMenuContainer&&c.element(t.dropdownMenuContainer).css("position","relative").append(s.css("top","0")),i.on("blur.aa",function(t){var e=document.activeElement;u.isMsie()&&(s[0]===e||s[0].contains(e))&&(t.preventDefault(),t.stopImmediatePropagation(),u.defer(function(){i.focus()}))}),s.on("mousedown.aa",function(t){t.preventDefault()}),this.eventBus=t.eventBus||new r({el:i}),this.dropdown=new p.Dropdown({appendTo:t.appendTo,wrapper:this.$node,menu:s,datasets:t.datasets,templates:t.templates,cssClasses:t.cssClasses,minLength:this.minLength}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onSync("shown",this._onShown,this).onSync("empty",this._onEmpty,this).onSync("redrawn",this._onRedrawn,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new p.Input({input:i,hint:e}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._bindKeyboardShortcuts(t),this._setLanguageDirection()}u.mixin(p.prototype,{_bindKeyboardShortcuts:function(t){if(t.keyboardShortcuts){var i=this.$input,r=[];u.each(t.keyboardShortcuts,function(t){"string"==typeof t&&(t=t.toUpperCase().charCodeAt(0)),r.push(t)}),c.element(document).keydown(function(t){var e=t.target||t.srcElement,s=e.tagName;if(!e.isContentEditable&&"INPUT"!==s&&"SELECT"!==s&&"TEXTAREA"!==s){var n=t.which||t.keyCode;-1!==r.indexOf(n)&&(i.focus(),t.stopPropagation(),t.preventDefault())}})}},_onSuggestionClicked:function(t,e){var s;(s=this.dropdown.getDatumForSuggestion(e))&&this._select(s)},_onCursorMoved:function(t,e){var s=this.dropdown.getDatumForCursor(),n=this.dropdown.getCurrentCursor().attr("id");this.input.setActiveDescendant(n),s&&(e&&this.input.setInputValue(s.value,!0),this.eventBus.trigger("cursorchanged",s.raw,s.datasetName))},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint(),this.eventBus.trigger("cursorremoved")},_onDatasetRendered:function(){this._updateHint(),this.eventBus.trigger("updated")},_onOpened:function(){this._updateHint(),this.input.expand(),this.eventBus.trigger("opened")},_onEmpty:function(){this.eventBus.trigger("empty")},_onRedrawn:function(){this.$node.css("top","0px"),this.$node.css("left","0px");var t=this.$input[0].getBoundingClientRect();this.autoWidth&&this.$node.css("width",t.width+"px");var e=this.$node[0].getBoundingClientRect(),s=t.bottom-e.top;this.$node.css("top",s+"px");var n=t.left-e.left;this.$node.css("left",n+"px"),this.eventBus.trigger("redrawn")},_onShown:function(){this.eventBus.trigger("shown"),this.autoselect&&this.dropdown.cursorTopSuggestion()},_onClosed:function(){this.input.clearHint(),this.input.removeActiveDescendant(),this.input.collapse(),this.eventBus.trigger("closed")},_onFocused:function(){if(this.isActivated=!0,this.openOnFocus){var t=this.input.getQuery();t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open()}},_onBlurred:function(){var t,e;t=this.dropdown.getDatumForCursor(),e=this.dropdown.getDatumForTopSuggestion(),this.debug||(this.autoselectOnBlur&&t?this._select(t):this.autoselectOnBlur&&e?this._select(e):(this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()))},_onEnterKeyed:function(t,e){var s,n;s=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),s?(this._select(s),e.preventDefault()):this.autoselect&&n&&(this._select(n),e.preventDefault())},_onTabKeyed:function(t,e){var s;(s=this.dropdown.getDatumForCursor())?(this._select(s),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t=this.input.getLanguageDirection();this.dir!==t&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,e,s,n,i;(t=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(e=this.input.getInputValue(),s=o.normalizeQuery(e),n=u.escapeRegExChars(s),(i=new RegExp("^(?:"+n+")(.+$)","i").exec(t.value))?this.input.setHint(e+i[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,s,n,i;e=this.input.getHint(),s=this.input.getQuery(),n=t||this.input.isCursorAtEnd(),e&&s!==e&&n&&((i=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(t){void 0!==t.value&&this.input.setQuery(t.value),this.clearOnSelected?this.setVal(""):this.input.setInputValue(t.value,!0),this._setLanguageDirection(),!1===this.eventBus.trigger("selected",t.raw,t.datasetName).isDefaultPrevented()&&(this.dropdown.close(),u.defer(u.bind(this.dropdown.empty,this.dropdown)))},open:function(){if(!this.isActivated){var t=this.input.getInputValue();t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty()}this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=u.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),function(t,e){var s=t.find(u.className(e.prefix,e.input));u.each(s.data(a),function(t,e){void 0===t?s.removeAttr(e):s.attr(e,t)}),s.detach().removeClass(u.className(e.prefix,e.input,!0)).insertAfter(t),s.removeData&&s.removeData(a);t.remove()}(this.$node,this.cssClasses),this.$node=null},getWrapper:function(){return this.dropdown.$container[0]}}),p.Dropdown=n,p.Input=o,p.sources=s(20),t.exports=p},function(t,e,s){"use strict";var n=s(4),i=s(2);function r(t){t&&t.el||n.error("EventBus initialized without el"),this.$el=i.element(t.el)}n.mixin(r.prototype,{trigger:function(t){var e=[].slice.call(arguments,1),s=n.Event("autocomplete:"+t);return this.$el.trigger(s,e),s}}),t.exports=r},function(t,e,s){"use strict";var a;a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};var u=s(4),c=s(2),n=s(8);function r(t){var e,s,n,i,r,o=this;(t=t||{}).input||u.error("input is missing"),e=u.bind(this._onBlur,this),s=u.bind(this._onFocus,this),n=u.bind(this._onKeydown,this),i=u.bind(this._onInput,this),this.$hint=c.element(t.hint),this.$input=c.element(t.input).on("blur.aa",e).on("focus.aa",s).on("keydown.aa",n),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=u.noop),u.isMsie()?this.$input.on("keydown.aa keypress.aa cut.aa paste.aa",function(t){a[t.which||t.keyCode]||u.defer(u.bind(o._onInput,o,t))}):this.$input.on("input.aa",i),this.query=this.$input.val(),this.$overflowHelper=(r=this.$input,c.element('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:r.css("font-family"),fontSize:r.css("font-size"),fontStyle:r.css("font-style"),fontVariant:r.css("font-variant"),fontWeight:r.css("font-weight"),wordSpacing:r.css("word-spacing"),letterSpacing:r.css("letter-spacing"),textIndent:r.css("text-indent"),textRendering:r.css("text-rendering"),textTransform:r.css("text-transform")}).insertAfter(r))}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}r.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},u.mixin(r.prototype,n,{_onBlur:function(){this.resetInputValue(),this.$input.removeAttr("aria-activedescendant"),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var s,n,i;switch(t){case"tab":n=this.getHint(),i=this.getInputValue(),s=n&&n!==i&&!o(e);break;case"up":case"down":s=!o(e);break;default:s=!1}s&&e.preventDefault()},_shouldTrigger:function(t,e){var s;switch(t){case"tab":s=!o(e);break;default:s=!0}return s},_checkInputValue:function(){var t,e,s,n,i;t=this.getInputValue(),n=t,i=this.query,s=!(!(e=r.normalizeQuery(n)===r.normalizeQuery(i))||!this.query)&&this.query.length!==t.length,this.query=t,e?s&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){void 0===t&&(t=this.query),this.$input.val(t),e?this.clearHint():this._checkInputValue()},expand:function(){this.$input.attr("aria-expanded","true")},collapse:function(){this.$input.attr("aria-expanded","false")},setActiveDescendant:function(t){this.$input.attr("aria-activedescendant",t)},removeActiveDescendant:function(){this.$input.removeAttr("aria-activedescendant")},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,s;s=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),""!==t&&s&&!this.hasOverflow()||this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,s;return t=this.$input.val().length,e=this.$input[0].selectionStart,u.isNumber(e)?e===t:!document.selection||((s=document.selection.createRange()).moveStart("character",-t),t===s.text.length)},destroy:function(){this.$hint.off(".aa"),this.$input.off(".aa"),this.$hint=this.$input=this.$overflowHelper=null}}),t.exports=r},function(t,e,s){"use strict";var o=s(9),a=/\s+/;function n(t,e,s,n){var i,r,o;if(!s)return this;for(e=e.split(a),s=n?(o=n,(r=s).bind?r.bind(o):function(){r.apply(o,[].slice.call(arguments,0))}):s,this._callbacks=this._callbacks||{};i=e.shift();)this._callbacks[i]=this._callbacks[i]||{sync:[],async:[]},this._callbacks[i][t].push(s);return this}function u(n,i,r){return function(){for(var t,e=0,s=n.length;!t&&e<s;e+=1)t=!1===n[e].apply(i,r);return!t}}t.exports={onSync:function(t,e,s){return n.call(this,"sync",t,e,s)},onAsync:function(t,e,s){return n.call(this,"async",t,e,s)},off:function(t){var e;if(!this._callbacks)return this;t=t.split(a);for(;e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var e,s,n,i,r;if(!this._callbacks)return this;t=t.split(a),n=[].slice.call(arguments,1);for(;(e=t.shift())&&(s=this._callbacks[e]);)i=u(s.sync,this,[e].concat(n)),r=u(s.async,this,[e].concat(n)),i()&&o(r);return this}}},function(t,e,s){"use strict";var n,i,r,o=[s(10),s(12),s(13),s(14),s(15)],a=-1,u=[],c=!1;function h(){n&&i&&(n=!1,i.length?u=i.concat(u):a=-1,u.length&&l())}function l(){if(!n){n=!(c=!1);for(var t=u.length,e=setTimeout(h);t;){for(i=u,u=[];i&&++a<t;)i[a].run();a=-1,t=u.length}i=null,n=!(a=-1),clearTimeout(e)}}for(var p=-1,d=o.length;++p<d;)if(o[p]&&o[p].test&&o[p].test()){r=o[p].install(l);break}function f(t,e){this.fun=t,this.array=e}f.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}},t.exports=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];u.push(new f(t,e)),c||n||(c=!0,r())}},function(t,s,e){(function(e){"use strict";s.test=function(){return void 0!==e&&!e.browser},s.install=function(t){return function(){e.nextTick(t)}}}).call(s,e(11))},function(t,e){var s,n,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(s===setTimeout)return setTimeout(e,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(t){s=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var u,c=[],h=!1,l=-1;function p(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!h){var t=a(p);h=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];c.push(new f(t,e)),1!==c.length||h||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){(function(i){"use strict";var r=i.MutationObserver||i.WebKitMutationObserver;e.test=function(){return r},e.install=function(t){var e=0,s=new r(t),n=i.document.createTextNode("");return s.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}}).call(e,function(){return this}())},function(t,e){(function(s){"use strict";e.test=function(){return!s.setImmediate&&void 0!==s.MessageChannel},e.install=function(t){var e=new s.MessageChannel;return e.port1.onmessage=t,function(){e.port2.postMessage(0)}}}).call(e,function(){return this}())},function(t,e){(function(s){"use strict";e.test=function(){return"document"in s&&"onreadystatechange"in s.document.createElement("script")},e.install=function(e){return function(){var t=s.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},s.document.documentElement.appendChild(t),e}}}).call(e,function(){return this}())},function(t,e){"use strict";e.test=function(){return!0},e.install=function(t){return function(){setTimeout(t,0)}}},function(t,e,s){"use strict";var a=s(4),u=s(2),n=s(8),i=s(17),c=s(19);function h(i){var t,e,s,r=this;(i=i||{}).menu||a.error("menu is required"),a.isArray(i.datasets)||a.isObject(i.datasets)||a.error("1 or more datasets required"),i.datasets||a.error("datasets is required"),this.isOpen=!1,this.isEmpty=!0,this.minLength=i.minLength||0,this.templates={},this.appendTo=i.appendTo||!1,this.css=a.mixin({},c,i.appendTo?c.appendTo:{}),this.cssClasses=i.cssClasses=a.mixin({},c.defaultClasses,i.cssClasses||{}),this.cssClasses.prefix=i.cssClasses.formattedPrefix||a.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),t=a.bind(this._onSuggestionClick,this),e=a.bind(this._onSuggestionMouseEnter,this),s=a.bind(this._onSuggestionMouseLeave,this);var n=a.className(this.cssClasses.prefix,this.cssClasses.suggestion);this.$menu=u.element(i.menu).on("mouseenter.aa",n,e).on("mouseleave.aa",n,s).on("click.aa",n,t),this.$container=i.appendTo?i.wrapper:this.$menu,i.templates&&i.templates.header&&(this.templates.header=a.templatify(i.templates.header),this.$menu.prepend(this.templates.header())),i.templates&&i.templates.empty&&(this.templates.empty=a.templatify(i.templates.empty),this.$empty=u.element('<div class="'+a.className(this.cssClasses.prefix,this.cssClasses.empty,!0)+'"></div>'),this.$menu.append(this.$empty),this.$empty.hide()),this.datasets=a.map(i.datasets,function(t){return e=r.$menu,s=t,n=i.cssClasses,new h.Dataset(a.mixin({$menu:e,cssClasses:n},s));var e,s,n}),a.each(this.datasets,function(t){var e=t.getRoot();e&&0===e.parent().length&&r.$menu.append(e),t.onSync("rendered",r._onRendered,r)}),i.templates&&i.templates.footer&&(this.templates.footer=a.templatify(i.templates.footer),this.$menu.append(this.templates.footer()));var o=this;u.element(window).resize(function(){o._redraw()})}a.mixin(h.prototype,n,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",u.element(t.currentTarget))},_onSuggestionMouseEnter:function(t){var e=u.element(t.currentTarget);if(!e.hasClass(a.className(this.cssClasses.prefix,this.cssClasses.cursor,!0))){this._removeCursor();var s=this;setTimeout(function(){s._setCursor(e,!1)},0)}},_onSuggestionMouseLeave:function(t){if(t.relatedTarget&&0<u.element(t.relatedTarget).closest("."+a.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).length)return;this._removeCursor(),this.trigger("cursorRemoved")},_onRendered:function(t,e){if(this.isEmpty=a.every(this.datasets,function(t){return t.isEmpty()}),this.isEmpty)if(e.length>=this.minLength&&this.trigger("empty"),this.$empty)if(e.length<this.minLength)this._hide();else{var s=this.templates.empty({query:this.datasets[0]&&this.datasets[0].query});this.$empty.html(s),this.$empty.show(),this._show()}else a.any(this.datasets,function(t){return t.templates&&t.templates.empty})?e.length<this.minLength?this._hide():this._show():this._hide();else this.isOpen&&(this.$empty&&(this.$empty.empty(),this.$empty.hide()),e.length>=this.minLength?this._show():this._hide());this.trigger("datasetRendered")},_hide:function(){this.$container.hide()},_show:function(){this.$container.css("display","block"),this._redraw(),this.trigger("shown")},_redraw:function(){this.isOpen&&this.appendTo&&this.trigger("redrawn")},_getSuggestions:function(){return this.$menu.find(a.className(this.cssClasses.prefix,this.cssClasses.suggestion))},_getCursor:function(){return this.$menu.find(a.className(this.cssClasses.prefix,this.cssClasses.cursor)).first()},_setCursor:function(t,e){t.first().addClass(a.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).attr("aria-selected","true"),this.trigger("cursorMoved",e)},_removeCursor:function(){this._getCursor().removeClass(a.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).removeAttr("aria-selected")},_moveCursor:function(t){var e,s,n,i;this.isOpen&&(s=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1!==(n=((n=e.index(s)+t)+1)%(e.length+1)-1)?(n<-1&&(n=e.length-1),this._setCursor(i=e.eq(n),!0),this._ensureVisible(i)):this.trigger("cursorRemoved"))},_ensureVisible:function(t){var e,s,n,i;s=(e=t.position().top)+t.height()+parseInt(t.css("margin-top"),10)+parseInt(t.css("margin-bottom"),10),n=this.$menu.scrollTop(),i=this.$menu.height()+parseInt(this.$menu.css("padding-top"),10)+parseInt(this.$menu.css("padding-bottom"),10),e<0?this.$menu.scrollTop(n+e):i<s&&this.$menu.scrollTop(n+(s-i))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?this.css.ltr:this.css.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:i.extractDatum(t),value:i.extractValue(t),datasetName:i.extractDatasetName(t)}),e},getCurrentCursor:function(){return this._getCursor().first()},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},cursorTopSuggestion:function(){this._setCursor(this._getSuggestions().first(),!1)},update:function(e){a.each(this.datasets,function(t){t.update(e)})},empty:function(){a.each(this.datasets,function(t){t.clear()}),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off(".aa"),this.$menu=null,a.each(this.datasets,function(t){t.destroy()})}}),h.Dataset=i,t.exports=h},function(t,e,s){"use strict";var a="aaDataset",u="aaValue",c="aaDatum",h=s(4),l=s(2),p=s(18),o=s(19),n=s(8);function i(t){var e,s,n,i;(t=t||{}).templates=t.templates||{},t.source||h.error("missing source"),t.name&&(e=t.name,!/^[_a-zA-Z0-9-]+$/.test(e))&&h.error("invalid dataset name: "+t.name),this.query=null,this._isEmpty=!0,this.highlight=!!t.highlight,this.name=void 0===t.name||null===t.name?h.getUniqueId():t.name,this.source=t.source,this.displayFn=(s=(s=t.display||t.displayKey)||"value",h.isFunction(s)?s:function(t){return t[s]}),this.debounce=t.debounce,this.templates=(n=t.templates,i=this.displayFn,{empty:n.empty&&h.templatify(n.empty),header:n.header&&h.templatify(n.header),footer:n.footer&&h.templatify(n.footer),suggestion:n.suggestion||function(t){return"<p>"+i(t)+"</p>"}}),this.css=h.mixin({},o,t.appendTo?o.appendTo:{}),this.cssClasses=t.cssClasses=h.mixin({},o.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix||h.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);var r=h.className(this.cssClasses.prefix,this.cssClasses.dataset);this.$el=t.$menu&&0<t.$menu.find(r+"-"+this.name).length?l.element(t.$menu.find(r+"-"+this.name)[0]):l.element(p.dataset.replace("%CLASS%",this.name).replace("%PREFIX%",this.cssClasses.prefix).replace("%DATASET%",this.cssClasses.dataset)),this.$menu=t.$menu,this.clearCachedSuggestions()}i.extractDatasetName=function(t){return l.element(t).data(a)},i.extractValue=function(t){return l.element(t).data(u)},i.extractDatum=function(t){var e=l.element(t).data(c);return"string"==typeof e&&(e=JSON.parse(e)),e},h.mixin(i.prototype,n,{_render:function(e,r){if(this.$el){var s,o=this,t=[].slice.call(arguments,2);this.$el.empty(),s=r&&r.length,this._isEmpty=!s,!s&&this.templates.empty?this.$el.html(function(){var t=[].slice.call(arguments,0);return t=[{query:e,isEmpty:!0}].concat(t),o.templates.empty.apply(this,t)}.apply(this,t)).prepend(o.templates.header?n.apply(this,t):null).append(o.templates.footer?i.apply(this,t):null):s&&this.$el.html(function(){var t,e,n=[].slice.call(arguments,0),i=this,s=p.suggestions.replace("%PREFIX%",this.cssClasses.prefix).replace("%SUGGESTIONS%",this.cssClasses.suggestions);return t=l.element(s).css(this.css.suggestions),e=h.map(r,function(t){var e,s=p.suggestion.replace("%PREFIX%",i.cssClasses.prefix).replace("%SUGGESTION%",i.cssClasses.suggestion);return(e=l.element(s).attr({role:"option",id:["option",Math.floor(1e8*Math.random())].join("-")}).append(o.templates.suggestion.apply(this,[t].concat(n)))).data(a,o.name),e.data(u,o.displayFn(t)||void 0),e.data(c,JSON.stringify(t)),e.children().each(function(){l.element(this).css(i.css.suggestionChild)}),e}),t.append.apply(t,e),t}.apply(this,t)).prepend(o.templates.header?n.apply(this,t):null).append(o.templates.footer?i.apply(this,t):null),this.$menu&&this.$menu.addClass(this.cssClasses.prefix+(s?"with":"without")+"-"+this.name).removeClass(this.cssClasses.prefix+(s?"without":"with")+"-"+this.name),this.trigger("rendered",e)}function n(){var t=[].slice.call(arguments,0);return t=[{query:e,isEmpty:!s}].concat(t),o.templates.header.apply(this,t)}function i(){var t=[].slice.call(arguments,0);return t=[{query:e,isEmpty:!s}].concat(t),o.templates.footer.apply(this,t)}},getRoot:function(){return this.$el},update:function(s){function t(t){if(!this.canceled&&s===this.query){var e=[].slice.call(arguments,1);this.cacheSuggestions(s,t,e),this._render.apply(this,[s,t].concat(e))}}if(this.query=s,this.canceled=!1,this.shouldFetchFromCache(s))t.apply(this,[this.cachedSuggestions].concat(this.cachedRenderExtraArgs));else{var e=this,n=function(){e.canceled||e.source(s,t.bind(e))};if(this.debounce){clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(function(){e.debounceTimeout=null,n()},this.debounce)}else n()}},cacheSuggestions:function(t,e,s){this.cachedQuery=t,this.cachedSuggestions=e,this.cachedRenderExtraArgs=s},shouldFetchFromCache:function(t){return this.cachedQuery===t&&this.cachedSuggestions&&this.cachedSuggestions.length},clearCachedSuggestions:function(){delete this.cachedQuery,delete this.cachedSuggestions,delete this.cachedRenderExtraArgs},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered","")},isEmpty:function(){return this._isEmpty},destroy:function(){this.clearCachedSuggestions(),this.$el=null}}),t.exports=i},function(t,e){"use strict";t.exports={wrapper:'<span class="%ROOT%"></span>',dropdown:'<span class="%PREFIX%%DROPDOWN_MENU%"></span>',dataset:'<div class="%PREFIX%%DATASET%-%CLASS%"></div>',suggestions:'<span class="%PREFIX%%SUGGESTIONS%"></span>',suggestion:'<div class="%PREFIX%%SUGGESTION%"></div>'}},function(t,e,s){"use strict";var n=s(4),i={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:"0"},defaultClasses:{root:"algolia-autocomplete",prefix:"aa",noPrefix:!1,dropdownMenu:"dropdown-menu",input:"input",hint:"hint",suggestions:"suggestions",suggestion:"suggestion",cursor:"cursor",dataset:"dataset",empty:"empty"},appendTo:{wrapper:{position:"absolute",zIndex:"100",display:"none"},input:{},inputWithNoHint:{},dropdown:{display:"block"}}};n.isMsie()&&n.mixin(i.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n.isMsie()&&n.isMsie()<=7&&n.mixin(i.input,{marginTop:"-1px"}),t.exports=i},function(t,e,s){"use strict";t.exports={hits:s(21),popularIn:s(24)}},function(t,e,s){"use strict";var i=s(4),r=s(22),o=s(23);t.exports=function(e,n){var t=o(e.as._ua);return t&&3<=t[0]&&20<t[1]&&((n=n||{}).additionalUA="autocomplete.js "+r),function(t,s){e.search(t,n,function(t,e){t?i.error(t.message):s(e.hits,e)})}}},function(t,e){t.exports="0.31.0"},function(t,e){"use strict";t.exports=function(t){var e=t.match(/Algolia for vanilla JavaScript (\d+\.)(\d+\.)(\d+)/);if(e)return[e[1],e[2],e[3]]}},function(t,e,s){"use strict";var l=s(4),p=s(22),d=s(23);t.exports=function(e,n,i,u){var t=d(e.as._ua);if(t&&3<=t[0]&&20<t[1]&&((n=n||{}).additionalUA="autocomplete.js "+p),!i.source)return l.error("Missing 'source' key");var c=l.isFunction(i.source)?i.source:function(t){return t[i.source]};if(!i.index)return l.error("Missing 'index' key");var h=i.index;return u=u||{},function(t,a){e.search(t,n,function(t,r){if(t)l.error(t.message);else{if(0<r.hits.length){var o=r.hits[0],e=l.mixin({hitsPerPage:0},i);delete e.source,delete e.index;var s=d(h.as._ua);return s&&3<=s[0]&&20<s[1]&&(n.additionalUA="autocomplete.js "+p),void h.search(c(o),e,function(t,e){if(t)l.error(t.message);else{var n=[];if(u.includeAll){var s=u.allTitle||"All departments";n.push(l.mixin({facet:{value:s,count:e.nbHits}},l.cloneDeep(o)))}l.each(e.facets,function(t,s){l.each(t,function(t,e){n.push(l.mixin({facet:{facet:s,value:e,count:t}},l.cloneDeep(o)))})});for(var i=1;i<r.hits.length;++i)n.push(r.hits[i]);a(n,r)}})}a([])}})}}}]);