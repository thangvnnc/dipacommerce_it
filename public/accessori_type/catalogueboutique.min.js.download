(function(c){var a=c.scrollTo=function(d,f,g){c(window).scrollTo(d,f,g)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var d=this,f=!d.nodeName||c.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!f){return d}var g=(d.contentWindow||d).document||d.ownerDocument||d;return c.browser.safari||g.compatMode=="BackCompat"?g.body:g.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){var n=this,l=c(n),m=f,j,k={},h=l.is("html,body");switch(typeof m){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(m)){m=b(m);break}m=c(m,this);case"object":if(m.is||m.style){j=(m=c(m)).offset()}}c.each(d.axis.split(""),function(q,r){var t=r=="x"?"Left":"Top",s=t.toLowerCase(),v="scroll"+t,p=n[v],g=a.max(n,r);if(j){k[v]=j[s]+(h?0:p-l.offset()[s]);if(d.margin){k[v]-=parseInt(m.css("margin"+t))||0;k[v]-=parseInt(m.css("border"+t+"Width"))||0}k[v]+=d.offset[s]||0;if(d.over[s]){k[v]+=m[r=="x"?"width":"height"]()*d.over[s]}}else{var u=m[s];k[v]=u.slice&&u.slice(-1)=="%"?parseFloat(u)/100*g:u}if(/^\d+$/.test(k[v])){k[v]=k[v]<=0?0:Math.min(k[v],g)}if(!q&&d.queue){if(p!=k[v]){i(d.onAfterFirst)}delete k[v]}});i(d.onAfter);function i(g){l.animate(k,e,d.easing,g&&function(){g.call(this,f,d)})}}).end()};a.max=function(g,j){var n=j=="x"?"Width":"Height",k="scroll"+n;if(!c(g).is("html,body")){return g[k]-c(g)[n.toLowerCase()]()}var o="client"+n,f=g.ownerDocument.documentElement,d=g.ownerDocument.body;return Math.max(f[k],d[k])-Math.min(f[o],d[o])};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);$(document).ready(function(){$.fancybox.close();if(window.location.hash&&window.location.hash!="#"&&window.location.hash!="#undefined"){blocat.slide.anchor(window.location.hash.substring(1))}$("a.go_to_familly").click(function(){var b=$(this).attr("id").substring(12);var a=$("input#famille_"+b).val();var c=0;if($("input#type_produit").val()=="boutique"){c=0}else{c=ktypenr}$.ajax({type:"POST",url:__AJAX__+"select-generique.php",data:"ids="+a+"&ktypenr="+c,success:function(d){$.fancybox({padding:0,margin:0,showCloseButton:false,scrolling:"no",titleshow:false,content:d,onComplete:function(){$("._modal_close").click(function(){$.fancybox.close()});$("a._modal_waiting").click(function(){showFancyboxWaiting()})}})}})});$("a.go_to_category").click(function(){window.location.hash=$(this).attr("id").substring(7);blocat.slide.anchor($(this).attr("id").substring(7))});$("li.generique_item").children("a").click(function(){recordOutboundEventFull("[Clicks sur catalogue v4]","Clicks sur detail des categories",get_url_evcfga(this.href).g+"_"+$(this).text(),__GOOGLE_ANALYTICS__)});$("li.gen_topitem a").click(function(){recordOutboundEventFull("[Clicks sur catalogue v4]","Clicks sur top recherches",get_url_evcfga(this.href).g+"_"+$(this).text(),__GOOGLE_ANALYTICS__)})});function TreeviewClick(e){var d=0,b=0;e=e||event;if((e.target||e.srcElement)===this){$(this).removeClass("itm_hlight");var a=this,c=0;while(is_node(a)&&!$(a).hasClass("list_tree")){while((_isnode=is_node(a=a.parentNode))&&(_isstr=is_str(a.tagName))&&(_notul=!/^ul$/i.test(_tagn=a.tagName))){}c++}if($(this).hasClass("collapsed")){$(this).addClass("item_set").children("ul").slideDown(b,function(){$(this).parent("li").removeClass("collapsed")})}else{$(this).removeClass("item_set").children("ul").slideUp(d,function(){$(this).parent("li").addClass("collapsed")})}$("body").trigger("iframeManagerHeightChange");if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true;if(e.preventDefault){e.preventDefault()}return false}}function TreeviewMouseover(a){a=a||event;if((a.target||a.srcElement)===this){if($(this).hasClass("collapsed")){$(this).addClass("itm_hlight")}}}function TreeviewMouseout(a){a=a||event;if((a.target||a.srcElement)===this){if($(this).hasClass("collapsed")){$(this).removeClass("itm_hlight")}}}$(document).ready(function(){$("ul.list_tree li.children").bind("click",TreeviewClick).bind("mouseover",TreeviewMouseover).bind("mouseout",TreeviewMouseout);$("#treeview-show_boutique, #treeview-show_boutique.picto_boutique").bind("click",function(a){if($("#list_tree_boutique").is(":hidden")==true){$(this).closest("div").find(".picto_boutique.ferme").hide();$(this).closest("div").find(".picto_boutique.ouvert").show();$("#list_tree_boutique").show();$(this).closest("div").addClass("item_set").removeClass("collapsed")}else{$(this).closest("div").find(".picto_boutique.ouvert").hide();$(this).closest("div").find(".picto_boutique.ferme").show();$("#list_tree_boutique").hide();$(this).closest("div").addClass("collapsed").removeClass("item_set")}return false}).bind("mouseover",function(a){if($(this).closest("div").hasClass("collapsed")){$(this).closest("div").addClass("itm_hlight")}}).bind("mouseout",function(a){if($(this).closest("div").hasClass("itm_hlight")){$(this).closest("div").removeClass("itm_hlight")}})});$(document).ready(function(){var d=[];var b=null;if($("input#autocomplete_b_search_engine_example_values").length){var i=$("input#autocomplete_b_search_engine_example_values").val().split("|");var a=3000;var h=i.length;if(h>1){$("input#autocomplete_b_search_engine").val(_lang.exemple+i[0])}else{$("input#autocomplete_b_search_engine").val("")}var g=0;var b=setInterval(function(){if(g==h-1){g=0}else{g++}if(h>1){$("input#autocomplete_b_search_engine").val(_lang.exemple+i[g])}},a)}if(typeof search_data!="undefined"){$.each(search_data,function(j,k){d.push({text:k.libelle,link:k.url,type:k.type,type_item:k.type_item,ids_enfants:k.ids_enfants,weight:k.weight,noshow:k.noshow,libelle_ok:k.libelle_ok})});c(d)}$("._trigger_autocomplete").click(function(){if($("input#autocomplete_b_search_engine").val().indexOf(_lang.exemple)==0){$("input#autocomplete_b_search_engine").val("");clearInterval(b)}f()});$("._clear_autocomplete").click(function(){$("input#autocomplete_b_search_engine").val("").focus();clearInterval(b)});function f(){var t=false;var u=[];var j=$.trim($("input#autocomplete_b_search_engine").val()).toLowerCase();if(!t){try{if($.md5(j)!=__VARCN__){var k=search_data_selected.length;if(k==1&&search_data_selected[0].value==""){if(__TYPE_PAGE__=="cataloguevehicule"){recordOutboundEventFull("[Clicks sur catalogue v4]","Utilisation mdr","Click_bouton | no_result",__GOOGLE_ANALYTICS__)}}else{if(__TYPE_PAGE__=="cataloguevehicule"){recordOutboundEventFull("[Clicks sur catalogue v4]","Utilisation mdr","Click_bouton | result",__GOOGLE_ANALYTICS__)}}}}catch(p){}u=search_data_selected;var r=20;var s=u.length;var o="false";var n=u.slice(0,r);var m=[];var l=(($(".raw_category").length));if(s>0){m=$.toJSON(n)}if(s>r){o="true"}var v=0;if($("input#type_produit").val()=="vehicule"){v=ktypenr}$.ajax({type:"POST",data:"JSON",url:__AJAX__+"select-search.php",data:"params="+m+"&q="+j+"&overflow="+o+"&limit="+r+"&ktypenr="+v,success:function(q){$.fancybox({padding:0,margin:0,showCloseButton:false,scrolling:"no",titleshow:false,content:q,onComplete:function(){$("._modal_close").click(function(){$.fancybox.close()});$("a._modal_waiting").click(function(){if($(this).attr("href")){var w=$(this).attr("href").split("#");var x="autre";if($(this).hasClass("_is_article")){x="article"}else{if($(this).hasClass("_is_generique")){x="generique"}else{if($(this).hasClass("_is_famille")){x="famille"}else{if($(this).hasClass("_is_categorie")){x="categorie"}}}}if(__TYPE_PAGE__=="cataloguevehicule"){recordOutboundEventFull("[Clicks sur catalogue v4]","Utilisation mdr","Click_suggestion | "+x,__GOOGLE_ANALYTICS__)}if(w[1]){blocat.slide.anchor(w[1]);if(l){$.fancybox.close();return false}}showFancyboxWaiting()}})}})}})}}function c(l){var j=true;var m={text:_lang.no_result,link:""};var k=_lang.approximated_search;$("input#autocomplete_b_search_engine").autocomplete(l,{width:0,max:20,minChars:1,matchContains:true,noResult:true,selectFirst:false,nbClicFocus:1,approximatedSearch:k,noResultValues:m,formatItem:function(n){return n.text}}).result(function(n,p,o){if(p.link){e(p);j=false}else{$(this).val("")}}).focus(function(){if($(this).val().indexOf(_lang.exemple)==0){$(this).val("");clearInterval(b)}}).blur(function(){if($(this).val()==""){}else{if(j){}}}).bind("keypress",function(o){var n=(o.keyCode?o.keyCode:o.which);if(n==13){$(".ac_results").hide();f()}})}function e(l){var k=ktypenr;if(l.type_item=="boutique"){k=""}if(l.type=="famille"){$.ajax({type:"POST",url:__AJAX__+"select-generique.php",data:"ids="+l.ids_enfants+"&ktypenr="+k,success:function(m){$.fancybox({padding:0,margin:0,showCloseButton:false,scrolling:"no",titleshow:false,content:m,onComplete:function(){$("._modal_close").click(function(){$.fancybox.close()});$("a._modal_waiting").click(function(){showFancyboxWaiting()})}})}})}else{if(l.type=="categorie"&&__TYPE_PAGE__=="cataloguevehicule"){if(__TYPE_PAGE__=="cataloguevehicule"){recordOutboundEventFull("[Clicks sur catalogue v4]","Utilisation mdr","Click_suggestion | "+l.type,__GOOGLE_ANALYTICS__)}var j=l.link.split("#")[1];blocat.slide.anchor(j)}else{window.location.href=l.link;showFancyboxWaiting()}}}});(function(c){var a=new RegExp("[^a-z0-9]","gi");c.fn.extend({autocomplete:function(e,f){var g=typeof e=="string";f=c.extend({},c.Autocompleter.defaults,{url:g?e:null,data:g?null:e,delay:g?c.Autocompleter.defaults.delay:10,max:f&&!f.scroll?10:150,noResult:false,characToExclude:["le","la","de","a","un","une","d"],unselectOnMouseOut:true,noResultValues:{},approximatedSearch:"",nbClicFocus:2},f);f.highlight=f.highlight||function(h){return h};f.formatMatch=f.formatMatch||f.formatItem;f.nbClicFocus=f.nbClicFocus-1;return this.each(function(){new c.Autocompleter(this,f)})},result:function(e){return this.bind("result",e)},search:function(e){return this.trigger("search",[e])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(e){return this.trigger("setOptions",[e])},unautocomplete:function(){return this.trigger("unautocomplete")}});c.Autocompleter=function(p,j){var f={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var e=c(p).attr("autocomplete","off").addClass(j.inputClass);var n;var t="";var q=c.Autocompleter.Cache(j);var h=0;var y;var B={mouseDownOnSelect:false};var v=c.Autocompleter.Select(j,p,g,B);var A;c.browser.opera&&c(p.form).bind("submit.autocomplete",function(){if(A){A=false;return false}});e.bind((c.browser.opera?"keypress":"keydown")+".autocomplete",function(C){h=1;y=C.keyCode;switch(C.keyCode){case f.UP:C.preventDefault();if(v.visible()){v.prev()}else{x(0,true)}break;case f.DOWN:C.preventDefault();if(v.visible()){v.next()}else{x(0,true)}break;case f.PAGEUP:C.preventDefault();if(v.visible()){v.pageUp()}else{x(0,true)}break;case f.PAGEDOWN:C.preventDefault();if(v.visible()){v.pageDown()}else{x(0,true)}break;case j.multiple&&c.trim(j.multipleSeparator)==","&&f.COMMA:case f.TAB:case f.RETURN:if(g()){C.preventDefault();A=true;return false}break;case f.ESC:v.hide();break;default:clearTimeout(n);n=setTimeout(x,j.delay);break}}).focus(function(){h++}).blur(function(){h=0;if(!B.mouseDownOnSelect){w()}}).click(function(){if(h++>j.nbClicFocus&&!v.visible()){x(0,true)}}).bind("search",function(){var C=(arguments.length>1)?arguments[1]:null;function D(H,G){var E;if(G&&G.length){for(var F=0;F<G.length;F++){if(G[F].result.toLowerCase()==H.toLowerCase()){E=G[F];break}}}if(typeof C=="function"){C(E)}else{e.trigger("result",E&&[E.data,E.value])}}c.each(k(e.val()),function(E,F){i(F,D,D)})}).bind("flushCache",function(){q.flush()}).bind("setOptions",function(){c.extend(j,arguments[1]);if("data" in arguments[1]){q.populate()}}).bind("unautocomplete",function(){v.unbind();e.unbind();c(p.form).unbind(".autocomplete")});function g(){var F=v.selected();if(!F){return false}var C=F.result;t=C;if(j.multiple){var I=k(e.val());if(I.length>1){var E=j.multipleSeparator.length;var H=c(p).selection().start;var G,D=0;c.each(I,function(J,K){D+=K.length;if(H<=D){G=J;return false}D+=E});I[G]=C;C=I.join(j.multipleSeparator)}C+=j.multipleSeparator}e.val(C);z();e.trigger("result",[F.data,F.value]);return true}function x(E,D){if(y==f.DEL){v.hide();return}var C=e.val();if(!D&&C==t){return}t=C;C=m(C);if(C.length>=j.minChars){e.addClass(j.loadingClass);if(!j.matchCase){C=C.toLowerCase()}i(C,o,z)}else{r();v.hide()}}function k(C){if(!C){return[""]}if(!j.multiple){return[c.trim(C)]}return c.map(C.split(j.multipleSeparator),function(D){return c.trim(C).length?c.trim(D):null})}function m(C){if(!j.multiple){return C}var E=k(C);if(E.length==1){return E[0]}var D=c(p).selection().start;if(D==C.length){E=k(C)}else{E=k(C.replace(C.substring(D),""))}return E[E.length-1]}function u(C,D){if(j.autoFill&&(m(e.val()).toLowerCase()==C.toLowerCase())&&y!=f.BACKSPACE){e.val(e.val()+D.substring(m(t).length));c(p).selection(t.length,t.length+D.length)}}function w(){clearTimeout(n);n=setTimeout(z,200)}function z(){var C=v.visible();v.hide();clearTimeout(n);r();if(j.mustMatch){e.search(function(D){if(!D){if(j.multiple){var E=k(e.val()).slice(0,-1);e.val(E.join(j.multipleSeparator)+(E.length?j.multipleSeparator:""))}else{e.val("");e.trigger("result",null)}}})}}function o(D,C){if(C&&C.length&&h){r();v.display(C,D);u(D,C[0].value);v.show()}else{z()}}function l(E,D){var H=parseInt(E.data.weight);var G=E.data.link;var C=parseInt(D.data.weight);var F=D.data.link;if((C==H)){if(F<=G){return 1}else{return -1}}else{if(C<H){return -1}else{return 1}}}function i(E,I,D){if(!j.matchCase){E=E.toLowerCase()}var G=q.load(E);if(G!=null&&j.noResult&&G.length==0){G[0]={value:"",data:j.noResultValues}}var H=[];var C=[];var F=[];c.each(G,function(L,K){if(K.data.noshow){var M=clone(K);if(jQuery.inArray(serialize(K.data.libelle_ok),C)==-1){M.value=K.data.libelle_ok;H.push(M);C.push(serialize(K.data.libelle_ok))}}else{F.push(K)}});if(F.length==0&&H.length>0){G=[];c.each(H,function(L,K){c.each(K.value,function(N,M){G.push({value:M,data:{text:M,link:K.data.link}})})});G.push({value:"",data:{text:j.approximatedSearch,link:""}})}else{G=F}if(G&&G.length){G.sort(l);search_data_selected=G;I(E,G)}else{if((typeof j.url=="string")&&(j.url.length>0)){var J={timestamp:+new Date()};c.each(j.extraParams,function(K,L){J[K]=typeof L=="function"?L():L});c.ajax({mode:"abort",port:"autocomplete"+p.name,dataType:j.dataType,url:j.url,data:c.extend({q:m(E),limit:j.max},J),success:function(L){var K=j.parse&&j.parse(L)||s(L);q.add(E,K);I(E,K)}})}else{v.emptyList();D(E)}}}function s(F){var C=[];var E=F.split("\n");for(var D=0;D<E.length;D++){var G=c.trim(E[D]);if(G){G=G.split("|");C[C.length]={data:G,value:G[0],result:j.formatResult&&j.formatResult(G,G[0])||G[0]}}}return C}function r(){e.removeClass(j.loadingClass)}};function b(f,e){if(f.position<=e.position){return -1}else{return 1}}function d(f,e){if(f.length<=e.length){return 1}else{return -1}}c.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(e){return e[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(m,h){var i=m;var e=true;var k=0;var n=remove_accent(m).toLowerCase();var l=remove_accent(h).toLowerCase().split(a).sort(d);var j=[];var g=[];c.each(l,function(p,o){o=c.trim(o);if(o.length>0){var q=true;c.each(g,function(t,s){if(s.indexOf(o)!=-1){q=false}});if(q){g.push(o);k=0;e=true;while(e){var r=n.indexOf(o,k);if(r>=0&&o.length>0){j.push({position:r,longueur:o.length})}else{e=false}k+=r+o.length+1}}}});j.sort(b);var f=0;c.each(j,function(p,o){f+=o.position;i=i.substr(0,f)+"<strong>"+i.substr(f,o.longueur)+"</strong>"+i.substring(f+o.longueur);f=(p+1)*17});return i},scroll:true,scrollHeight:180};c.Autocompleter.Cache=function(f){var i={};var g=0;function k(r,q){r=remove_accent(r);q=remove_accent(q);if(!f.matchCase){r=r.toLowerCase()}for(var u in f.characToExclude){var t=q.indexOf(f.characToExclude[u]);var m=f.characToExclude[u].length;if(t==-1){q=q}else{if(t==0){q=q.replace(f.characToExclude[u]+" "," ")}else{if(t+m==u.strlen){q=q.replace(" "+f.characToExclude[u]," ")}else{q=q.replace(" "+f.characToExclude[u]+" "," ")}}}}var n=q.split(a);var o=0;c.each(n,function(l,p){if(o!=-1){o=r.indexOf(p);if(f.matchContains=="word"){o=r.toLowerCase().search("\\b"+p.toLowerCase())}}});if(o==-1){return false}return o==0||f.matchContains}function j(m,l){if(g>f.cacheLength){e()}if(!i[m]){g++}i[m]=l}function h(){if(!f.data){return false}var m={},l=0;if(!f.url){f.cacheLength=1}m[""]=[];for(var o=0,n=f.data.length;o<n;o++){var r=f.data[o];r=(typeof r=="string")?[r]:r;var q=f.formatMatch(r,o+1,f.data.length);if(q===false){continue}var p=q.charAt(0).toLowerCase();if(!m[p]){m[p]=[]}var s={value:q,data:r,result:f.formatResult&&f.formatResult(r)||q};m[p].push(s);if(l++<f.max){m[""].push(s)}}c.each(m,function(t,u){f.cacheLength++;j(t,u)})}setTimeout(h,25);function e(){i={};g=0}return{flush:e,add:j,populate:h,load:function(o){if(!f.cacheLength||!g){return null}if(!f.url&&f.matchContains){var n=[];for(var l in i){if(l.length>0){var p=i[l];c.each(p,function(r,q){if(k(q.value,o)){n.push(q)}})}}return n}else{if(i[o]){return i[o]}else{if(f.matchSubset){for(var m=o.length-1;m>=f.minChars;m--){var p=i[o.substr(0,m)];if(p){var n=[];c.each(p,function(r,q){if(k(q.value,o)){n[n.length]=q}});return n}}}}}return null}}};c.Autocompleter.Select=function(h,m,o,s){var l={ACTIVE:"ac_over"};var n,i=-1,u,p="",v=true,f,r;function q(){if(!v){return}f=c("<div/>").hide().addClass(h.resultsClass).css("position","absolute").appendTo(document.body);r=c("<ul/>").appendTo(f).mousemove(function(w){if(t(w).nodeName&&t(w).nodeName.toUpperCase()=="LI"){i=c("li",r).removeClass(l.ACTIVE).index(t(w));c(t(w)).addClass(l.ACTIVE)}}).click(function(w){c(t(w)).addClass(l.ACTIVE);o();return false}).mousedown(function(){s.mouseDownOnSelect=true}).mouseup(function(){s.mouseDownOnSelect=false}).mouseout(function(w){if(h.unselectOnMouseOut){i=c("li",r).removeClass(l.ACTIVE).index(t(w))}});if(h.width>0){f.css("width",h.width)}v=false}function t(x){var w=x.target;while(w&&w.tagName!="LI"){w=w.parentNode}if(!w){return[]}return w}function k(w){n.slice(i,i+1).removeClass(l.ACTIVE);j(w);var y=n.slice(i,i+1).addClass(l.ACTIVE);if(h.scroll){var x=0;n.slice(0,i).each(function(){x+=this.offsetHeight});if((x+y[0].offsetHeight-r.scrollTop())>r[0].clientHeight){r.scrollTop(x+y[0].offsetHeight-r.innerHeight())}else{if(x<r.scrollTop()){r.scrollTop(x)}}}}function j(w){i+=w;if(i<0){i=n.size()-1}else{if(i>=n.size()){i=0}}}function e(w){return h.max&&h.max<w?h.max:w}function g(){r.empty();var y=e(u.length);for(var A=0;A<y;A++){if(!u[A]){continue}var z=u[A].data.link;var C=new RegExp("^[^,]+_g([0-9]+)","i");var x=z.match(C);var D="";if(x!=null&&x.length>=2&&parseInt(x[1]).toString()==x[1].toString()){D=x[1]}var B=h.formatItem(u[A].data,A+1,y,u[A].value,p);if(B===false){continue}var w=c("<li/>").html(h.highlight(B,p)).addClass(A%2==0?"ac_even":"ac_odd").attr("id-generique",D).appendTo(r)[0];c.data(w,"ac_data",u[A])}n=r.find("li");if(h.selectFirst){n.slice(0,1).addClass(l.ACTIVE);i=0}if(c.fn.bgiframe){r.bgiframe()}}return{display:function(x,w){q();u=x;p=w;g()},next:function(){k(1)},prev:function(){k(-1)},pageUp:function(){if(i!=0&&i-8<0){k(-i)}else{k(-8)}},pageDown:function(){if(i!=n.size()-1&&i+8>n.size()){k(n.size()-1-i)}else{k(8)}},hide:function(){f&&f.hide();n&&n.removeClass(l.ACTIVE);i=-1},visible:function(){return f&&f.is(":visible")},current:function(){return this.visible()&&(n.filter("."+l.ACTIVE)[0]||h.selectFirst&&n[0])},show:function(){var y=c(m).offset();f.css({width:typeof h.width=="string"||h.width>0?h.width:Math.max(c(m).width()+44,320),top:y.top+m.offsetHeight,left:y.left}).show();if(h.scroll){r.scrollTop(0);r.css({maxHeight:h.scrollHeight,overflow:"auto"});if(c.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var w=0;n.each(function(){w+=this.offsetHeight});var x=w>h.scrollHeight;r.css("height",x?h.scrollHeight:w);if(!x){n.width(r.width()-parseInt(n.css("padding-left"))-parseInt(n.css("padding-right")))}}}},selected:function(){var w=n&&n.filter("."+l.ACTIVE).removeClass(l.ACTIVE);return w&&w.length&&c.data(w[0],"ac_data")},emptyList:function(){r&&r.empty()},unbind:function(){f&&f.remove()}}};c.fn.selection=function(l,e){if(l!==undefined){return this.each(function(){if(this.createTextRange){var m=this.createTextRange();if(e===undefined||l==e){m.move("character",l);m.select()}else{m.collapse(true);m.moveStart("character",l);m.moveEnd("character",e);m.select()}}else{if(this.setSelectionRange){this.setSelectionRange(l,e)}else{if(this.selectionStart){this.selectionStart=l;this.selectionEnd=e}}}})}var j=this[0];if(j.createTextRange){var f=document.selection.createRange(),k=j.value,i="<->",g=f.text.length;f.text=i;var h=j.value.indexOf(i);j.value=k;this.selection(h,h+g);return{start:h,end:h+g}}else{if(j.selectionStart!==undefined){return{start:j.selectionStart,end:j.selectionEnd}}}}})(jQuery);
/*!
 * jQCloud Plugin for jQuery
 *
 * Version 0.1.3
 *
 * Copyright 2011, Luca Ongaro
 * Licensed under the MIT license.
 *
 * Date: Wed Feb 16 11:41:32 2011 +0100
 */
(function(a){a.fn.jQCloud=function(c,e){var d=this;var b=function(){var g=function(p,m,o){if(o){return true}var l=function(r,q){if(Math.abs(2*r.offsetLeft+r.offsetWidth-2*q.offsetLeft-q.offsetWidth)<r.offsetWidth+q.offsetWidth){if(Math.abs(2*r.offsetTop+r.offsetHeight-2*q.offsetTop-q.offsetHeight)<r.offsetHeight+q.offsetHeight){return true}}return false};var n=0;for(n=0;n<m.length;n++){if(l(p,m[n])){return true}}return false};c.sort(function(m,l){if(m.weight<l.weight){return 1}else{if(m.weight>l.weight){return -1}else{return 0}}});var i=2;var f=[];var h=d.width()/d.height();var k=d.width()/2;var j=d.height()/2;a.each(c,function(s,l){var p=6.28*Math.random();var t=0;var r=Math.round((l.weight-c[c.length-1].weight)/(c[0].weight-c[c.length-1].weight)*9)+1;var x;if(l.url!==undefined){var q;if(l.multiple){x='<a href="javascript:;" class="_multiple_generique" style="cursor:pointer;" id="'+l.ids+"\" onclick=\"recordOutboundLink(this, 'Catalogue : nuage de mots', '"+l.text.replace(/\'/g,"\\'")+"', '"+__GOOGLE_ANALYTICS__+"');\">"+l.text+"</a></span>"}else{x='<a href="'+l.url+"\" onclick=\"recordOutboundLink(this, 'Catalogue : nuage de mots', '"+l.text.replace(/\'/g,"\\'")+"', '"+__GOOGLE_ANALYTICS__+"');\">"+l.text+"</a></span>"}}else{x=l.text}d.append("<span id='word_"+s+"' class='w"+r+"' title='"+(l.title||"")+"'>"+x+"</span>");var n=a("#word_"+s).width();var w=a("#word_"+s).height();var o=k-n/2;var v=j-w/2;a("#word_"+s).css("position","absolute");a("#word_"+s).css("left",o+"px");a("#word_"+s).css("top",v+"px");while(g(document.getElementById("word_"+s),f,false)){t+=i;p+=(s%2===0?1:-1)*i;p+=i;o=k+(t*Math.cos(p)-(n/2))*h;v=j+t*Math.sin(p)-(w/2);a("#word_"+s).css("left",o+"px");a("#word_"+s).css("top",v+"px")}if(o<0||v<0||(document.getElementById("word_"+s).offsetHeight+v>d.height())){var u=true;var m=0;while(g(document.getElementById("word_"+s),f,u)){m++;t+=i;p+=(s%2===0?1:-1)*i;o=k+(t*Math.cos(p)-(n/2))*h;v=j+t*Math.sin(p)-(w/2);a("#word_"+s).css("left",o+"px");a("#word_"+s).css("top",v+"px");if((o<0||v<0)&&m<30){u=true}else{if((document.getElementById("word_"+s).offsetHeight+v>d.height())&&m<30){u=true}else{u=false}}if(m>=30){}}}f.push(document.getElementById("word_"+s))});if(typeof e==="function"){e.call(this)}};setTimeout(function(){b()},100);return this}})(jQuery);(function(a){a.fn.aeImageResize=function(d){var b=a(this),f=Math.floor,c=a.browser,h=c.msie&&(parseInt(c.version)==6),e=0,g=a.extend({height:0,width:0},d);if(!g.height&&!g.width){return b}if(g.height&&g.width){e=g.width/g.height}return b.one("load",function(){a(this).removeAttr("height").removeAttr("width").css({height:"",width:""});var i=this.height,j=this.width,m=j/i,k=g.height,l=g.width,n=e;if(!n){if(k===0){n=m-1}else{n=m+1}}if((k&&i>k)||(l&&j>l)){if(m>e){k=f(i/j*l)}else{l=f(j/i*k)}a(this).attr({height:k,width:l})}}).each(function(){if(this.complete||h){a(this).trigger("load")}})}})(jQuery);(function(a){a.fn.extend({scale:function(d,c,b){return this.each(function(){i("jquery.scale is starting...");i('jquery.scale: Using browser "'+navigator.appName+'" version "'+navigator.appVersion+'"');var e=false;var f=false;var g=false;if(d=="center"||c=="center"||b=="center"){e=true}if(d=="stretch"||c=="stretch"||b=="stretch"){f=true}if(d=="debug"||c=="debug"||b=="debug"){g=true}var m=a(this);if(m.attr("src")&&!m.attr("jquery_scale_orig-height")){i("jquery.scale: object is an image");var j=new Date();var n=m.attr("src");var o=n;if(n.indexOf("?")!=-1){o=n.substring(0,n.indexOf("?"))}o=o+"?"+j.getTime();m.attr("src",o);i("jquery.scale: img src changed to "+o+" to force a reload");this.onload=k}else{i("jquery.scale: object is NOT an image");k()}function k(){if(!m.attr("jquery_scale_orig-height")){m.attr("jquery_scale_orig-height",m.height());m.attr("jquery_scale_orig-width",m.width());i("jquery.scale: is starting for the first time. Captured the original dimensions of "+m.width()+"x"+m.height())}else{m.height(parseInt(m.attr("jquery_scale_orig-height")));m.width(parseInt(m.attr("jquery_scale_orig-width")));i("jquery.scale: has been run before. Reset the object to its original dimensions of "+m.width()+"x"+m.height())}i("jquery.scale: BEFORE scaling, object's outer size = "+m.outerWidth()+"x"+m.outerHeight()+", object's parent's inner size = "+m.parent().width()+"x"+m.parent().height());if(m.outerHeight()>m.parent().height()&&m.outerWidth()<=m.parent().width()){i("jquery.scale: object is too tall, but width is OK");h()}else{if(m.outerWidth()>m.parent().width()&&m.outerHeight()<=m.parent().height()){i("jquery.scale: object is too wide, but height is OK");l()}else{if(m.outerWidth()<m.parent().width()&&m.outerHeight()<m.parent().height()&&f){i("jquery.scale: object is too short and skinny, and stretch option enabled");if(m.parent().height()/m.outerHeight()<=m.parent().width()/m.outerWidth()){i("jquery.scale: height is closer to being correct, or height and width are equally close to being correct");h()}else{i("jquery.scale: width is closer to being correct");l()}}else{if(m.outerWidth()>m.parent().width()&&m.outerHeight()>m.parent().height()){i("jquery.scale: object is too tall and wide");if(m.parent().height()/m.outerHeight()>m.parent().width()/m.outerWidth()){i("jquery.scale: width is closer to being correct");l()}else{i("jquery.scale: height is closer to being correct, or height and width are equally close to being correct");h()}}}}}if(e){i("jquery.scale: centering option enabled");m.css("position","relative");m.css("margin-top",m.parent().height()/2-m.outerHeight()/2);m.css("margin-left",m.parent().width()/2-m.outerWidth()/2)}this.onload=null;i("jquery.scale: AFTER scaling, object's size = "+m.outerWidth()+"x"+m.outerHeight()+", object's parent's size = "+m.parent().width()+"x"+m.parent().height()+".'")}function h(){i("jquery.scale: matching height");m.width(m.outerWidth()*m.parent().height()/m.outerHeight()-(m.outerWidth()-m.width()));m.height(m.parent().height()-(m.outerHeight()-m.height()))}function l(){i("jquery.scale: matching width");m.height(m.outerHeight()*m.parent().width()/m.outerWidth()-(m.outerHeight()-m.height()));m.width(m.parent().width()-(m.outerWidth()-m.width()))}function i(p){if(window.console&&g){console.log(p)}}})}})})(jQuery);var TINY={};function T$(a){return document.getElementById(a)}function T$$(b,a){return a.getElementsByTagName(b)}TINY.slider=function(){function a(c,b){this.n=c;this.init(b)}a.prototype.init=function(g){var f=T$(g.id),d=this.u=T$$("ul",f)[0],h=T$$("li",d),b=h.length,e=this.l=this.c=0;if(g.navid&&g.activeclass){this.g=T$$("li",T$(g.navid));this.s=g.activeclass}this.a=g.auto||0;this.p=g.resume||0;this.v=g.vertical||0;f.style.overflow="hidden";for(e;e<b;e++){if(h[e].parentNode==d){this.l++}}if(this.v){d.style.top=0;this.h=g.height||h[0].offsetHeight;d.style.height=(this.l*this.h)+"px"}else{d.style.left=0;this.w=g.width||h[0].offsetWidth;d.style.width=(this.l*this.w)+"px"}this.pos(g.position||0,this.a?1:0)},a.prototype.auto=function(){this.u.ai=setInterval(new Function(this.n+".move(1,1)"),this.a*1000)},a.prototype.move=function(e,b){var f=this.c+e,c=e==1?f==this.l?0:f:f<0?this.l-1:f;this.pos(c,b)},a.prototype.pos=function(f,b){clearInterval(this.u.ai);clearInterval(this.u.si);var h=this.v?parseInt(this.u.style.top):parseInt(this.u.style.left),e=this.v?f*this.h:f*this.w,g=e>Math.abs(h)?1:-1;e=e*-1;this.c=f;if(this.g){for(var c=0;c<this.l;c++){this.g[c].className=c==f?this.s:""}}this.u.si=setInterval(new Function(this.n+".slide("+e+","+g+","+b+")"),20)},a.prototype.slide=function(e,g,b){var f=this.v?parseInt(this.u.style.top):parseInt(this.u.style.left);if(f==e){clearInterval(this.u.si);if(b||(this.a&&this.p)){this.auto()}}else{var c=f-Math.ceil(Math.abs(e-f)*0.15)*g+"px";this.v?this.u.style.top=c:this.u.style.left=c}};return{slide:a}}();(function(a,b){a(document).ready(function(){var d=a("div.slider_catalogue.float_L ul div #slidebar").children().length;var e={desactive:function(j){var k=a(this);var f;var g=j.currentTarget;var i=a("li.slider_li_template").css("left");var h=i.slice(0,-2);if(g.id=="sliderButton"){f="+=207px";if(index>=0&&index-1>=0){index--;c(k,f)}else{index=d-1;position=(itemWidth*index)+(itemWidth/2)-(marginItem/2)+(marginItem*index)-(sliderWidth);console.log(position);c(k,"-"+position+"px")}}else{if(g.id=="sliderButtonLeft"){f="-=207px";if(index<=d-1&&index+1<=d-1){index++;c(k,f)}else{index=0;position=(sliderWidth)-(itemWidth/2)+(marginItem/2);console.log(position);c(k,position+"px")}}}}};function c(f,g){f.removeClass("active");a("li.slider_li_template").css("-webkit-transition-duration","0");a("li.slider_li_template").animate({left:g},"slow",function(){f.addClass("active")});id=a("li.slider_li_template").eq(index).attr("id");if(selectCat){if(old_id){a("#"+old_id).removeClass("item_selected");a("#"+old_id+" .slider_li_content div").removeClass("item_selected_text");a("#list_"+old_id).fadeTo("slow",0)}a("#"+id).addClass("item_selected");a("#"+id+" .slider_li_content div").addClass("item_selected_text");a(".top_searchT_list").hide();a("#list_"+id).fadeTo("slow",1);old_id=id;if(a(".close_button_catalogueT").is(":hidden")){a(".close_button_catalogueT").show()}if(a("#top_recherche_catalogue").is(":visible")){a("#form_recherche_catalogue").hide();a("#top_recherche_catalogue").hide()}}}touchslider={createSlidePanel:function(i,g,h){var f=h;a(i).each(function(){a(this).css({position:"relative"});a(this).children("li").each(function(){f+=g+h});touchslider.width=f;touchslider.colWidth=g+h;try{document.createEvent("TouchEvent");touchslider.makeTouchable(i)}catch(j){a(this).css({height:"400px",overflow:"auto"})}})},makeTouchable:function(f){a(f).each(function(){this.ontouchstart=function(g){touchslider.touchStart(a(this),g);return true};this.ontouchend=function(g){if(touchslider.sliding){touchslider.sliding=false;touchslider.touchEnd(a(this),g);return false}else{return true}};this.ontouchmove=function(g){touchslider.touchMove(a(this),g);g.preventDefault();g.stopPropagation();return false}})},getLeft:function(f){f=a("li");return parseInt(f.css("left").substring(0,f.css("left").length-2),10)},touchStart:function(f,g){f=a("li");f.css({"-webkit-transition-duration":"0"});touchslider.startX=g.targetTouches[0].clientX;touchslider.startLeft=touchslider.getLeft(f);touchslider.touchStartTime=new Date().getTime()},touchEnd:function(f,g){f=a("li");if(touchslider.getLeft(f)>0){touchslider.doSlide(f,0,"2s");f.parent().removeClass("sliding");touchslider.startX=null}else{if(touchslider.getLeft(f)<-1400){touchslider.doSlide(f,"-"+1399,"2s");f.parent().removeClass("sliding");touchslider.startX=null}else{touchslider.slideMomentum(f,g)}}},slideMomentum:function(j,l){j=a("li");var h=(new Date().getTime()-touchslider.touchStartTime)*10;var k=touchslider.getLeft(j);var m=12000*(Math.abs(touchslider.startLeft)-Math.abs(k));h=Math.round(m/h);var i=h+k;var g=i%touchslider.colWidth;if((Math.abs(g))>((touchslider.colWidth/2))){i-=(touchslider.colWidth-Math.abs(g))}else{i-=g}if(touchslider.slidingLeft){var f=parseInt("-"+(touchslider.width-500),10)}else{}j.parent().removeClass("sliding");touchslider.startX=null},doSlide:function(g,f,h){g=a("li");g.css({left:f+"px","-webkit-transition-property":"left","-webkit-transition-duration":h})},touchMove:function(f,h){f=a("li");if(!touchslider.sliding){f.parent().addClass("sliding")}touchslider.sliding=true;if(touchslider.startX>h.targetTouches[0].clientX){f.css("left","-"+(touchslider.startX-h.targetTouches[0].clientX-touchslider.startLeft)+"px");touchslider.slidingLeft=true}else{var g=(h.targetTouches[0].clientX-touchslider.startX+touchslider.startLeft);f.css("left",g+"px");touchslider.slidingLeft=false}}};touchslider.createSlidePanel("#slidebar",207,0)})})(jQuery);